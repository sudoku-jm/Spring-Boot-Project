<html xmlns:th="http://www.thymeleaf.org"
   xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
   >
   
<head>
   <title>User</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   	<link rel="stylesheet" href="/css/reset.css">
	<link rel="stylesheet" href="/css/style.css">
	<script src="/js/jquery-3.5.1.min.js"></script>
</head>
<body>
<div class="join_wrap">
   <h2>회원 등록</h2>
   
   <form id="member" action="list.html" th:action="@{/user/register}" th:object="${member}" method="POST">
      <table>
      	<colgroup>
		 <col style="width:20%">
		 <col style="width:auto">		 
		 </colgroup>
         <tr>
            <th>아이디</th>
            <td><input type="text" name="userId" th:field="*{userId}" /></td>
         </tr>
         <tr>
            <th>비밀번호</th>
            <td><input type="password" name="userPw" th:field="*{userPw}" /></td>
         </tr>
         <tr>
            <th>사용자명</th>
            <td><input type="text" name="userName" th:field="*{userName}" /></td>
         </tr>
      </table>
   </form>
   
   <div class="btn_box">
      <button type="submit" id="btnRegister" class="btn btn_submit">등록</button>
      
      <th:block sec:authorize="hasRole('ROLE_ADMIN')">
         <button type="submit" id="btnList" class="btn btn_black">목록</button>
      </th:block>
   </div>
   
   <script th:inline="javascript">
      $(document).ready(function() {
   
         var formObj = $("#member");
   
         $("#btnRegister").on("click", function() {
            formObj.submit();
         });
         
      [#th:block sec:authorize="hasRole('ROLE_ADMIN')"]
         $("#btnList").on("click", function() {
            self.location = "list";
         });
      [/th:block]
   
      });
   </script>
</div>
</body>
</html>